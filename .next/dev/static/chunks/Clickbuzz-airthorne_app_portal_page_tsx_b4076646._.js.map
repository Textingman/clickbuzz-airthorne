{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/m/Clickbuzz-airthorne/app/portal/page.tsx"],"sourcesContent":["'use client';\n\nimport { useSearchParams, useRouter } from 'next/navigation';\nimport { useState, useEffect, Suspense } from 'react';\nimport Image from 'next/image';\nimport { CheckCircle } from 'lucide-react';\n\nfunction VerifyPageContent() {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n  const [phone, setPhone] = useState<string>('');\n  const [error, setError] = useState<string>('');\n  const [isRedirecting, setIsRedirecting] = useState(false);\n\n  useEffect(() => {\n    // Get phone parameter from URL\n    const phoneParam = searchParams.get('phone');\n    \n    if (!phoneParam) {\n      setError('Invalid verification link. Phone number is missing.');\n      return;\n    }\n\n    setPhone(phoneParam);\n  }, [searchParams]);\n\n  // Mask phone number to show only last 4 digits\n  const maskPhone = (phoneNumber: string): string => {\n    if (!phoneNumber) return '';\n    \n    // Remove any non-digit characters\n    const digits = phoneNumber.replace(/\\D/g, '');\n    \n    if (digits.length < 4) return phoneNumber;\n    \n    const lastFour = digits.slice(-4);\n    return `(***) ***-${lastFour}`;\n  };\n\n  const handleConfirm = () => {\n    setIsRedirecting(true);\n\n    // Build redirect URL with all parameters except 'phone'\n    const params = new URLSearchParams();\n    \n    searchParams.forEach((value, key) => {\n      if (key !== 'phone') {\n        params.append(key, value);\n      }\n    });\n\n    // Get destination URL\n    const destination = searchParams.get('destination');\n    \n    if (destination) {\n      // Redirect to explicit destination with parameters\n      const redirectUrl = `${destination}?${params.toString()}`;\n      window.location.href = redirectUrl;\n    } else {\n      // If no destination, show error\n      setError('Invalid verification link. Destination is missing.');\n      setIsRedirecting(false);\n    }\n  };\n\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-[#F4F3EF] to-white flex items-center justify-center px-4\">\n      <div className=\"max-w-md w-full bg-white rounded-2xl shadow-xl p-8\">\n        {/* Logo/Brand */}\n        <div className=\"flex justify-center mb-8\">\n          <Image \n            src=\"/Airthorne_Logo.svg\"\n            alt=\"Airthorne\"\n            width={320} \n            height={107}\n            className=\"h-12 w-auto\"\n          />\n        </div>\n\n        {/* Verification Content */}\n        <div className=\"text-center mb-8\">\n          <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n            <CheckCircle className=\"w-12 h-12 text-[#B7E87B]\" />\n          </div>\n          \n          <h2 className=\"text-2xl font-bold text-[#1F2937] mb-4\">\n            Verify Your Number\n          </h2>\n          \n          {/* Phone Input Field */}\n          <div className=\"mb-8\">\n            <input\n              type=\"tel\"\n              value={phone}\n              onChange={(e) => setPhone(e.target.value)}\n              placeholder=\"Enter phone number\"\n              className=\"w-full bg-gray-50 rounded-lg p-6 text-3xl font-bold text-[#1F2937] tracking-wider text-center border-2 border-[#E5E7EB] focus:border-[#1F7A8C] focus:outline-none transition-colors\"\n            />\n          </div>\n\n          {/* Confirm Button */}\n          <button\n            onClick={handleConfirm}\n            disabled={isRedirecting}\n            className={`w-full py-4 px-6 rounded-lg text-lg font-semibold transition-all ${\n              isRedirecting\n                ? 'bg-gray-400 cursor-not-allowed'\n                : 'bg-[#B7E87B] hover:bg-[#A4DA64] text-white shadow-lg hover:shadow-xl'\n            }`}\n          >\n            {isRedirecting ? (\n              <span className=\"flex items-center justify-center\">\n                <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                Redirecting...\n              </span>\n            ) : (\n              \"Submit\"\n            )}\n          </button>\n        </div>\n\n        {/* Footer */}\n        <div className=\"text-center pt-6 border-t border-[#E5E7EB]\">\n          <p className=\"text-xs text-[#6B7280]\">\n            Secured by Airthorne\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function VerifyPage() {\n  return (\n    <Suspense fallback={\n      <div className=\"min-h-screen bg-gradient-to-b from-[#F4F3EF] to-white flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1F7A8C] mx-auto\"></div>\n          <p className=\"mt-4 text-[#6B7280]\">Loading...</p>\n        </div>\n      </div>\n    }>\n      <VerifyPageContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}